#pragma version 4
#pragma mode stateful

// If this is the first transaction, skip to end
txna ApplicationArgs 0
int 1
==
bz end

// When in the second transaction, test that correct value is loaded from final scratch space of first
// transaction
gload 0 123
int 321
==
assert

end:
// store 321 in scratch space 123. Reached by both transactions.
int 321
store 123

int 1
return
