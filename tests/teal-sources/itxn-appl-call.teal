#pragma version 6

txna ApplicationArgs 0
int 0
==
bnz end

txna ApplicationArgs 0
int 1
==
bnz lbl1

txna ApplicationArgs 0
int 2
==
bnz lbl2

err

b end
lbl1:

itxn_begin

global CurrentApplicationAddress
itxn_field Sender

global CurrentApplicationID
itxn_field ApplicationID

int 2
itxn_field ApplicationArgs

int appl
itxn_field TypeEnum

itxn_submit

txn Sender
balance
int 99500100
==
assert

b end
lbl2:

itxn_begin

global CurrentApplicationAddress
itxn_field Sender

txn Sender
itxn_field Receiver

int 100
itxn_field Amount

int pay
itxn_field TypeEnum

itxn_submit

b end
end:

int 1
return
